{"version":3,"sources":["../../../../src/admin/utils/components/EditElementDialog.tsx"],"names":["React","css","plugins","Dialog","DialogTitle","DialogContent","DialogActions","DialogButton","DialogCancel","Input","Grid","Cell","Form","styled","validation","narrowDialog","width","minWidth","PreviewBox","minHeight","border","backgroundColor","display","justifyContent","alignItems","img","maxHeight","maxWidth","EditElementDialog","memo","props","open","onClose","onSubmit","pluginName","plugin","byName","submit","Bind","title","create","toolbar","preview","nextProps","displayName"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { css } from \"emotion\";\nimport { plugins } from \"@webiny/plugins\";\nimport {\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    DialogButton,\n    DialogCancel\n} from \"@webiny/ui/Dialog\";\nimport { Input } from \"@webiny/ui/Input\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { Form, FormOnSubmit } from \"@webiny/form\";\nimport styled from \"@emotion/styled\";\nimport { validation } from \"@webiny/validation\";\nconst narrowDialog = css({\n    \".mdc-dialog__surface\": {\n        width: 600,\n        minWidth: 600\n    }\n});\n\nconst PreviewBox = styled(\"div\")({\n    width: 500,\n    minHeight: 250,\n    border: \"1px solid var(--mdc-theme-on-background)\",\n    backgroundColor: \"#fff\", // this must always be white\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    img: {\n        maxHeight: 500,\n        maxWidth: 500\n    }\n});\n\ntype Props = {\n    open: boolean;\n    plugin: string;\n    onClose: () => void;\n    onSubmit: FormOnSubmit;\n};\n\nconst EditElementDialog = React.memo(\n    (props: Props) => {\n        const { open, onClose, onSubmit, plugin: pluginName } = props;\n\n        const plugin: any = plugins.byName(pluginName);\n\n        return (\n            <Dialog open={open} onClose={onClose} className={narrowDialog}>\n                {plugin && (\n                    <Form onSubmit={onSubmit} data={plugin}>\n                        {({ submit, Bind }) => (\n                            <React.Fragment>\n                                <DialogTitle>Update {plugin.title}</DialogTitle>\n                                <DialogContent>\n                                    <Grid>\n                                        <Cell span={12}>\n                                            <Bind\n                                                name={\"title\"}\n                                                validators={validation.create(\"required\")}\n                                            >\n                                                <Input label={\"Name\"} autoFocus />\n                                            </Bind>\n                                        </Cell>\n                                    </Grid>\n                                    <Grid>\n                                        <Cell span={12}>\n                                            <PreviewBox>{plugin.toolbar.preview()}</PreviewBox>\n                                        </Cell>\n                                    </Grid>\n                                </DialogContent>\n                                <DialogActions>\n                                    <DialogCancel>Cancel</DialogCancel>\n                                    <DialogButton onClick={submit}>Save</DialogButton>\n                                </DialogActions>\n                            </React.Fragment>\n                        )}\n                    </Form>\n                )}\n            </Dialog>\n        );\n    },\n    (props, nextProps) => props.open === nextProps.open\n);\n\nEditElementDialog.displayName = \"EditElementDialog\";\n\nexport default EditElementDialog;\n"],"file":"EditElementDialog.js"}