{"version":3,"sources":["../../../src/admin/views/FileManagerSettings.tsx"],"names":["React","Form","Grid","Cell","ButtonPrimary","Query","Mutation","useSnackbar","Input","graphql","CircularProgress","get","SimpleForm","SimpleFormFooter","SimpleFormContent","SimpleFormHeader","FileManagerSettings","showSnackbar","GET_SETTINGS","data","queryInProgress","loading","UPDATE_SETTINGS","update","mutationInProgress","settings","variables","uploadMinFileSize","parseFloat","uploadMaxFileSize","Bind","form","submit"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Form } from \"@webiny/form\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { ButtonPrimary } from \"@webiny/ui/Button\";\nimport { Query, Mutation } from \"@apollo/react-components\";\nimport { useSnackbar } from \"@webiny/app-admin/hooks/useSnackbar\";\nimport { Input } from \"@webiny/ui/Input\";\nimport graphql from \"../graphql\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport get from \"lodash.get\";\n\nimport {\n    SimpleForm,\n    SimpleFormFooter,\n    SimpleFormContent,\n    SimpleFormHeader\n} from \"@webiny/app-admin/components/SimpleForm\";\n\nconst FileManagerSettings = () => {\n    const { showSnackbar } = useSnackbar();\n    return (\n        <Query query={graphql.GET_SETTINGS}>\n            {({ data, loading: queryInProgress }) => (\n                <Mutation mutation={graphql.UPDATE_SETTINGS}>\n                    {(update, { loading: mutationInProgress }) => {\n                        const settings = get(data, \"fileManager.getSettings.data\") || {};\n\n                        return (\n                            <Form\n                                data={settings}\n                                onSubmit={async data => {\n                                    await update({\n                                        variables: {\n                                            data: {\n                                                uploadMinFileSize: parseFloat(\n                                                    data.uploadMinFileSize\n                                                ),\n                                                uploadMaxFileSize: parseFloat(\n                                                    data.uploadMaxFileSize\n                                                )\n                                            }\n                                        }\n                                    });\n                                    showSnackbar(\"Settings updated successfully.\");\n                                }}\n                            >\n                                {({ Bind, form }) => (\n                                    <SimpleForm>\n                                        {(queryInProgress || mutationInProgress) && (\n                                            <CircularProgress />\n                                        )}\n                                        <SimpleFormHeader title=\"General File Manager Settings\" />\n                                        <SimpleFormContent>\n                                            <Grid>\n                                                <Cell span={12}>\n                                                    <Grid>\n                                                        <Cell span={6}>\n                                                            <Bind name={\"uploadMinFileSize\"}>\n                                                                <Input\n                                                                    type=\"number\"\n                                                                    label=\"Minimum file upload size\"\n                                                                    description=\"In bytes\"\n                                                                />\n                                                            </Bind>\n                                                        </Cell>\n                                                    </Grid>\n                                                </Cell>\n                                                <Cell span={12}>\n                                                    <Grid>\n                                                        <Cell span={6}>\n                                                            <Bind name={\"uploadMaxFileSize\"}>\n                                                                <Input\n                                                                    type=\"number\"\n                                                                    label=\"Maximum file upload size\"\n                                                                    description=\"In bytes\"\n                                                                />\n                                                            </Bind>\n                                                        </Cell>\n                                                    </Grid>\n                                                </Cell>\n                                            </Grid>\n                                        </SimpleFormContent>\n                                        <SimpleFormFooter>\n                                            <ButtonPrimary onClick={form.submit}>\n                                                Save\n                                            </ButtonPrimary>\n                                        </SimpleFormFooter>\n                                    </SimpleForm>\n                                )}\n                            </Form>\n                        );\n                    }}\n                </Mutation>\n            )}\n        </Query>\n    );\n};\n\nexport default FileManagerSettings;\n"],"file":"FileManagerSettings.js"}